import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

mermaid.initialize({
	startOnLoad: true,
	theme: document.body.attributes.getNamedItem('data-theme').value === 'dark' ? 'dark' : 'default',
	themeVariables: {
		primaryColor: '#ffcc00',
		primaryTextColor: '#333333',
		primaryBorderColor: '#cccccc',
		lineColor: '#ffcc00',
		secondaryColor: '#ffcc00',
		tertiaryColor: '#ffcc00',
		noteBkgColor: '#ffcc00',
		noteTextColor: '#333333',
		noteBorderColor: '#cccccc',
	},
	flowchart: {
		useMaxWidth: true,
		htmlLabels: true,
		curve: 'basis',
	},
	sequence: {
		diagramMarginX: 50,
		diagramMarginY: 10,
		actorMargin: 50,
		width: 150,
		height: 65,
		boxMargin: 10,
		boxTextMargin: 5,
		noteMargin: 10,
		messageMargin: 35,
		mirrorActors: true,
		bottomMarginAdj: 1,
		useMaxWidth: true,
		rightAngles: false,
		showSequenceNumbers: true,
	},
	gantt: {
		titleTopMargin: 25,
		barHeight: 20,
		barGap: 4,
		topPadding: 50,
		leftPadding: 75,
		gridLineStartPadding: 35,
		fontSize: 11,
		fontFamily: '"Open-Sans", "sans-serif"',
		numberSectionStyles: 4,
		axisFormat: '%Y-%m-%d',
	},
	class: {
		useMaxWidth: true,
		htmlLabels: true,
	},
	state: {
		dividerMargin: 10,
		padding: 8,
		textHeight: 10,
		titleShift: 15,
		noteMargin: 10,
		forkWidth: 20,
		forkHeight: 10,
		miniPadding: 5,
		edgeMargin: 5,
		useMaxWidth: true,
	},
	journey: {
		useMaxWidth: true,
		diagramMarginX: 50,
		diagramMarginY: 10,
		actorMargin: 50,
		width: 150,
		height: 65,
		boxMargin: 10,
		boxTextMargin: 5,
		noteMargin: 10,
		messageMargin: 35,
		mirrorActors: true,
		bottomMarginAdj: 1,
		rightAngles: false,
		showSequenceNumbers: true,
	},
	securityLevel: 'strict', // or 'loose' if you need to allow HTML in labels
	logLevel: 'error', // 'fatal', 'error', 'warn', 'info', 'debug', 'trace'
	arrowMarkerAbsolute: false,
});
